<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grid Paint</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto&display=swap">
    <link rel="stylesheet" href="GridPainter.css">
</head>
<body>
    
    <div id="controls">
        <div class="control-group">
            <strong>–†–∏—Å–æ–≤–∞–Ω–∏–µ:</strong>
            <!-- –ù–∞–∑–Ω–∞—á–µ–Ω—ã id –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ updateToolHighlight -->
            <button id="toolBrush" onclick="setInstrument('brush'); updateToolHighlight()">–ö–∏—Å—Ç–æ—á–∫–∞</button>
            <button id="toolRectangle" onclick="setInstrument('rectangle'); updateToolHighlight()">–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫</button>
            <button id="toolLine" onclick="setInstrument('line'); updateToolHighlight()">–õ–∏–Ω–∏—è</button>
            <button id="toolEraser" onclick="setInstrument('eraser'); updateToolHighlight()">–õ–∞—Å—Ç–∏–∫</button>
            <!-- –ú–æ–∂–Ω–æ —Å–∫—Ä—ã—Ç—å –∏–ª–∏ —É–±—Ä–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –≤—ã–±–æ—Ä —Ü–≤–µ—Ç–∞/—Ä–∞–∑–º–µ—Ä–∞ –¥–ª—è –∫–∏—Å—Ç–æ—á–∫–∏, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω -->
            <label for="colorPicker">–¶–≤–µ—Ç:</label>
            <input type="color" id="colorPicker" value="#000000">
            <label for="brushSize">–†–∞–∑–º–µ—Ä:</label>
            <input type="number" id="brushSize" value="1" min="1">
        </div>
        <div class="control-group">
            <strong>–û–ø–µ—Ä–∞—Ü–∏–∏:</strong>
            <button onclick="clearCanvas()">–û—á–∏—Å—Ç–∏—Ç—å</button>
            <button onclick="saveCanvas()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
        <div class="control-group">
            <strong>–°–µ—Ç–∫–∞:</strong>
            <label for="gridWidth">X:</label>
            <input type="number" id="gridWidth" value="56">
            <label for="gridHeight">Y:</label>
            <input type="number" id="gridHeight" value="56">
            <label for="cellSize">–†–∞–∑–º–µ—Ä —è—á–µ–π–∫–∏:</label>
            <input type="number" id="cellSize" value="20">
            <label for="gridThickness">–¢–æ–ª—â–∏–Ω–∞ —Å–µ—Ç–∫–∏:</label>
            <input type="number" id="gridThickness" value="0.5" min="0.1" step="0.1">
            <button onclick="resizeCanvas()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            <label for="gridLayer">–ü–æ–ª–æ–∂–µ–Ω–∏–µ:</label>
            <select id="gridLayer" onchange="updateGridLayer()">
                <option value="bottom">–ü–æ–¥ –ª–∏–Ω–∏—è–º–∏</option>
                <option value="top">–ü–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ</option>
            </select>
        </div>
        <div class="control-group">
            <strong>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ:</strong>
            <label for="backgroundColorPicker">–§–æ–Ω:</label>
            <input type="color" id="backgroundColorPicker" value="#ffffff" onchange="changeBackground()">
            <label for="themeSelector">–¢–µ–º–∞:</label>
            <select id="themeSelector" onchange="changeTheme()">
                <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                <option value="dark" selected>–¢—ë–º–Ω–∞—è</option>
            </select>
            <label for="cellColorPicker">–°–µ—Ç–∫–∞:</label>
            <input type="color" id="cellColorPicker" value="#dddddd" onchange="changeCellColor()">
        </div>
        <div class="control-group">
            <strong>–í—ã–¥–µ–ª–µ–Ω–∏–µ:</strong>
            <button onclick="activateSelectionMode()">–í—ã–¥–µ–ª–∏—Ç—å –æ–±–ª–∞—Å—Ç—å</button>
            <button onclick="saveSelection()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ</button>
            <button onclick="deleteSelectionMode()">–£–¥–∞–ª–∏—Ç—å –æ–±–ª–∞—Å—Ç—å</button>
            <label for="selectionColorPicker">–¶–≤–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è:</label>
            <input type="color" id="selectionColorPicker" value="#0000ff">
            <span id="selectionInfo"></span>
        </div>
        <div class="control-group">
            <strong>–ü—Ä–æ–µ–∫—Ç:</strong>
            <button onclick="exportProject()">–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞</button>
            <button onclick="document.getElementById('importFile').click()">–ò–º–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞</button>
            <input type="file" id="importFile" accept="application/json" onchange="importProject(this.files)" style="display:none">
        </div>
    </div>
    <div id="canvasContainer">
        <canvas id="grid"></canvas>
        <canvas id="canvas"></canvas>
        <canvas id="overlay"></canvas>
        <!-- –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —Å–ª–æ–π –¥–ª—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π -->
        <canvas id="savedOverlay"></canvas>
    </div>
    <div id="layerControls">
        <button id="addLayerButton">‚ûï</button>
        <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞–ø–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∞
        <button id="addFolderButton">üìÅ</button>
        -->
        <div id="layerList"></div>
    </div>
    <!-- –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —Å–ø—Ä–∞–≤–∫–∏ –∏ –æ–∫–Ω–æ -->
    <div id="helpButton">?</div>
    <div id="helpPopup"></div>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –Ω–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã -->
    <script src="GridPainter.js"></script>
    <script src="shortcuts.js"></script>
    <script src="help.js"></script>
</body>
</html>
